---
title: "ScrollToTopButton Component"
slug: docusaurus-scroll-to-top-button
description: "Simple React component adding a floating 'back to top' button with delayed appearance (after scrolling 300px), click animation and smooth scroll behavior in Docusaurus."
schemaTypes: ["HowTo", "BlogPosting"]
image: "/img/scrolltotop.webp"
authors: ["docux"]
mainTag: ux
tags: ["react","scroll","component"]
date: 2025-10-06
difficulty: "easy"
totalTime: "PT20M"
yield: "Reusable back-to-top button."
genre: "Technical Tutorial"
inLanguage: "en"
readingTime: "3 min"
copyrightYear: 2025
copyrightHolder: "Docux"
keywords: ["docusaurus","scroll to top","react","component","ui","scroll"]
hide_table_of_contents: true
series: "Design your site"
blueSkyRecordKey: 3m2ivzblafs2h
---

<center>
<div>
[![Developer](https://img.shields.io/badge/Developer-Docux-green.svg)](https://github.com/Juniors017)
[![Development](https://img.shields.io/badge/Development-docux-green.svg)](https://github.com/Juniors017)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

![](/img/scrolltotop.webp)
</div>
</center>

This component adds a fixed floating Back to Top button. It becomes visible after the user scrolls 300px vertically; on click it triggers a smooth scroll to the top while playing a short visual animation on the icon. It does not expose public props: customization (threshold, image) is done by editing the source (`index.js`). The goal is to keep it lightweight and easy to reuse.
<!--truncate-->

## Overview

Implemented features:
- Appears after 300px scroll (hard‑coded condition)
- Smooth scroll to top on click
- CSS animation on click (`fly` + `@keyframes flyUp`)
- Show/Hide using opacity + visibility
- Scroll listener with cleanup in `useEffect`
- Icon image can be swapped by changing the import


## Component Code

<Tabs>
<TabItem value="js" label={<><LogoIcon name="javascript" size='32' /> </>}>

```js title="src/components/ScrollToTopButton/index.js"
import React, { useState, useEffect } from "react";
import clsx from "clsx";
import styles from "./styles.module.css";
import buttontop from '@site/static/img/buttontop.webp'

export default function ScrollToTopButton() {
  const [isVisible, setIsVisible] = useState(false);
  const [fly, setFly] = useState(false);

  useEffect(() => {
    const toggleVisibility = () => {
      if (window.scrollY > 300) {
        setIsVisible(true);
      } else {
        setIsVisible(false);
      }
    };
    window.addEventListener("scroll", toggleVisibility);
    return () => window.removeEventListener("scroll", toggleVisibility);
  }, []);

  const scrollToTop = () => {
    setFly(true);
    window.scrollTo({ top: 0, behavior: "smooth" });

    setTimeout(() => setFly(false), 800);
  };

  return (
    <div
      className={clsx(
        styles.scrollBtn,
        isVisible && styles.show,
        fly && styles.fly
      )}
      onClick={scrollToTop}
    >
      <img
        src={buttontop}
        alt="Retour en haut"
        width="30"
        height="30"
      />
    </div>
  );
}
```

</TabItem>

<TabItem value="css" label={<><LogoIcon name="css-3" size='32' /> </>}>

```css title="src/components/ScrollToTopButton/styles.module.css"
.scrollBtn {
  position: fixed;
  bottom: 30px;
  right: 30px;
  width: 60px;
  height: 60px;
  cursor: pointer;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.4s, visibility 0.4s;
  z-index: 1000;
}

.scrollBtn img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
  transition: transform 0.3s;
}

.scrollBtn:hover img {
  transform: scale(1.1);
}

/* Bouton visible après scroll */
.scrollBtn.show {
  opacity: 1;
  visibility: visible;
}

/* Animation "vol vers le haut" */
.scrollBtn.fly img {
  animation: flyUp 0.8s ease-in forwards;
}

@keyframes flyUp {
  0% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translateY(-300px) scale(0.6);
    opacity: 0;
  }
}
```

</TabItem>
</Tabs>


## Installation

1. Copy the `ScrollToTopButton` folder into `src/components/`
2. Import the component in your global layout (or a specific page)
3. Ensure the image import works (`/static/img/buttontop.webp`)
4. (Optional) Replace the image with your own

## File structure

```
src/components/ScrollToTopButton/
├── index.js              # Main React component
└── styles.module.css     # Scoped CSS Module
```


### Configuration

- Threshold: edit `if (window.scrollY > 300)` in `index.js`
- Image: replace the imported `buttontop` image

## Customization

### Change the image

1. Place your image inside `static/img/`
2. Update the import in `index.js`:

```jsx
import buttontop from '@site/static/img/your-image.webp'
```

3. The component uses it like:

```jsx
<img
  src={buttontop}
  alt="Back to top"
  width="30"
  height="30"
/>
```

### Edit styles

Open `styles.module.css` and adjust:

- Position: tweak `bottom` / `right`
- Size: adjust `width` / `height`
- Visual: modify `box-shadow`
- Animation: change `flyUp` keyframes

## State & Behavior

- `isVisible`: true when `window.scrollY > 300`, else false
- `fly`: toggled to true on click, reset after 800ms
- Scroll listener: handles visibility logic and is cleaned up on unmount

## Animations

### Show/Hide
```css
transition: opacity 0.4s, visibility 0.4s;
```

### Click animation (flyUp)
```css
@keyframes flyUp {
  0% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translateY(-300px) scale(0.6);
    opacity: 0;
  }
}
```

## Full example

```jsx
import React from 'react';
import Layout from '@theme-original/Layout';
import ScrollToTopButton from '@site/src/components/ScrollToTopButton';

export default function LayoutWrapper(props) {
  return (
    <>
      <Layout {...props} />
      <ScrollToTopButton />
    </>
  );
}
```

